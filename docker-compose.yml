# services:

#   ollama:
#     image: ollama/ollama:latest
#     container_name: ollama
#     ports:
#       - "11434:11434"
#     volumes:
#       - ollama_data:/root/.ollama
#     restart: unless-stopped

#   qdrant:
#     image: qdrant/qdrant:latest
#     container_name: qdrant
#     ports:
#       - "6333:6333"
#       - "6334:6334"
#     volumes:
#       - ./qdrant_storage:/qdrant/storage
#     restart: unless-stopped

#   openwebui:
#     image: ghcr.io/open-webui/open-webui:main
#     container_name: openwebui
#     ports:
#       - "3000:8080"
#     environment:
#       - OLLAMA_BASE_URL=http://ollama:11434
#       - QDRANT_URL=http://qdrant:6333
#     depends_on:
#       - ollama
#       - qdrant
#     restart: unless-stopped

# volumes:
#   ollama_data:


services:
  openwebui:
    image: ghcr.io/open-webui/open-webui:main
    container_name: openwebui
    ports:
      - "3000:8080"
    environment:
      OPENAI_API_TYPE: "azure"
      OPENAI_API_BASE: "https://fib-az-swc-oai-prod-01.openai.azure.com"
      OPENAI_API_VERSION: "2023-05-15"
      OPENAI_API_KEY: "<your-api-key>"
      OPENAI_EMBEDDINGS_DEPLOYMENT: "fib-text-embedding-ada-002"

      RAG_EMBEDDING_ENGINE: "azure"
      RAG_EMBEDDING_MODEL: "fib-text-embedding-ada-002"

      VECTOR_DB: "qdrant"
      QDRANT_URI: "<your-qdrant-uri>"

      HTTP_PROXY: "http://10.10.60.221:3128"
      HTTPS_PROXY: "http://10.10.60.221:3128"
      NO_PROXY: "localhost,127.0.0.1"

      WEBUI_SECRET_KEY: "<your-secret-key>"
